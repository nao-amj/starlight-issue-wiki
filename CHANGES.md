# Starlight Issue Wiki 改善内容

以下の改善を実装しました:

## 1. Wiki詳細ページのシンタックスハイライトとMarkdownプレビューの高機能化

### 1.1 グラフプレビュー
- Mermaid.jsを使用した図表レンダリングを実装
- Markdownの```mermaid```コードブロックが自動的に図表として描画されるようになりました
- ダークモードとライトモードに対応した図表テーマの自動切り替え

### 1.2 GitHubのMarkdown記法のプレビュー対応
- GitHub Flavored Markdownの完全サポート
- marked-gfm-heading-idを使用して見出しのID自動生成を実装
- テーブル、リスト、引用などが正しく表示されるようになりました

### 1.3 Markdownの表形式のプレビュー
- テーブルのレスポンシブ対応とスタイル改善
- 横スクロール可能なテーブルコンテナの実装
- ゼブラストライプのテーブル行で見やすさを向上

### 1.4 カラーリングのテーマ切り替え機能
- ライトモードとダークモードに対応したシンタックスハイライト
- Shikiを使用した高品質なコードブロックのシンタックスハイライト
- テーマ切り替えに応じて自動的に適切なカラースキームが適用される

### 1.5 スマホ最適化
- モバイルデバイス向けのレスポンシブデザイン
- タッチフレンドリーなUI要素の実装
- スクリーンサイズに応じたフォントサイズと余白の調整

## 2. ダークテーマの切り替え機能

- ヘッダーにテーマトグルボタンを追加
- ユーザーの設定がローカルストレージに保存されるようになりました
- システムの設定に合わせた自動テーマ切り替えにも対応
- すべてのコンポーネントがダークモードに正しく対応

## 技術的な改善点

1. **コンポーネント化**: 機能ごとに再利用可能なコンポーネントに分割
   - MarkdownRenderer: Markdown変換とシンタックスハイライトを担当
   - ThemeToggle: テーマ切り替え機能を提供
   - CustomHeader: ナビゲーションとテーマ切り替えを含むヘッダー

2. **パフォーマンス最適化**:
   - 必要に応じた動的なリソース読み込み
   - コードのモジュール化による保守性の向上
   - クライアントサイドのスクリプトを最小限に抑制

3. **アクセシビリティ向上**:
   - 適切なコントラスト比の確保
   - キーボードナビゲーションの改善
   - スクリーンリーダー対応の強化

## 使用方法

ページ右上のテーマトグルボタンをクリックすることで、ライトモードとダークモードを切り替えることができます。設定は次回訪問時も保持されます。

Markdownの記事中で以下のような記法が使えるようになりました:

### コードブロック

\```javascript
// シンタックスハイライト付きのコード
const example = "Hello World";
console.log(example);
\```

### テーブル

```
| 項目 | 説明 |
|------|------|
| 例1  | 説明1 |
| 例2  | 説明2 |
```

### Mermaidグラフ

\```mermaid
graph TD
    A[開始] --> B{条件}
    B -->|Yes| C[処理1]
    B -->|No| D[処理2]
    C --> E[終了]
    D --> E
\```
