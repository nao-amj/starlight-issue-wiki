---
import { SITE_TITLE } from '../config';
---

<!-- Google Fontsを追加 -->
<link rel="preconnect" href="https://fonts.googleapis.com" />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<link
  href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700&display=swap"
  rel="stylesheet"
/>

<!-- Meta情報の追加 -->
<meta property="og:title" content={SITE_TITLE} />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary_large_image" />

<!-- Favicon -->
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />

<!-- Theme initialization (prevents flash of wrong theme) -->
<script is:inline>
  // Get stored theme preference
  const theme = (() => {
    if (typeof localStorage !== 'undefined' && localStorage.getItem('theme')) {
      return localStorage.getItem('theme');
    }
    if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
      return 'dark';
    }
    return 'light';
  })();

  // Set theme class on document root
  if (theme === 'dark') {
    document.documentElement.classList.add('dark');
    document.documentElement.dataset.theme = 'dark';
  } else {
    document.documentElement.classList.remove('dark');
    document.documentElement.dataset.theme = 'light';
  }
  
  // Make theme directly accessible to scripts
  window.theme = theme;
</script>
